{"version":3,"sources":["webpack:///./src/posts/Python爬虫.md?426b","webpack:///./src/posts/Python爬虫.md"],"names":["Python__","render","this","$createElement","_self","_c","_m","staticRenderFns","_vm","_h","staticClass","_v","attrs","id","href","aria-hidden","pre","class","staticStyle","text-align","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/15.1c271c159970f107447f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('hr'),_vm._v(\" \"),_c('h2',{attrs:{\"id\":\"name%3A-python%E7%88%AC%E8%99%ABlayout%3A-posttitle%3A-%22python%E7%88%AC%E8%99%AB%22info%3A-%22python%E7%88%AC%E8%99%AB%22date%3A-2019-05-05categories%3A-worktags%3A-%5Bpython%5Dcoverimg%3A-%22https%3A%2F%2Fws1.sinaimg.cn%2Flarge%2F88b26e1cgy1fx7cwh57tlj22kw3vc1ky.jpg%22\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#name%3A-python%E7%88%AC%E8%99%ABlayout%3A-posttitle%3A-%22python%E7%88%AC%E8%99%AB%22info%3A-%22python%E7%88%AC%E8%99%AB%22date%3A-2019-05-05categories%3A-worktags%3A-%5Bpython%5Dcoverimg%3A-%22https%3A%2F%2Fws1.sinaimg.cn%2Flarge%2F88b26e1cgy1fx7cwh57tlj22kw3vc1ky.jpg%22\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" name: Python爬虫\\nlayout: post\\ntitle:  \\\"Python爬虫\\\"\\ninfo: \\\"Python爬虫\\\"\\ndate:   2019-05-05\\ncategories: WORK\\ntags: [Python]\\ncoverimg: \\\"https://ws1.sinaimg.cn/large/88b26e1cgy1fx7cwh57tlj22kw3vc1ky.jpg\\\"\")]),_vm._v(\" \"),_c('h2',{attrs:{\"id\":\"1.-%E7%AE%80%E4%BB%8B\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#1.-%E7%AE%80%E4%BB%8B\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 1. 简介\")]),_vm._v(\" \"),_c('h4',{attrs:{\"id\":\"1.%E8%AF%86%E5%88%AB%E7%BD%91%E7%AB%99%E6%89%80%E7%94%A8%E6%8A%80%E6%9C%AF\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#1.%E8%AF%86%E5%88%AB%E7%BD%91%E7%AB%99%E6%89%80%E7%94%A8%E6%8A%80%E6%9C%AF\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 1.识别网站所用技术\")]),_vm._v(\" \"),_c('pre',{pre:true,attrs:{\"class\":\"hljs\"}},[_c('code',[_vm._v(\"import builtwith\\nres = builtwith.parse(\\\"http://google.com\\\")\\n# 返回字典标识各个模块所使用技术\\n\")])]),_vm._v(\" \"),_c('h4',{attrs:{\"id\":\"2.%E6%9F%A5%E7%9C%8B%E7%BD%91%E7%AB%99%E6%89%80%E6%9C%89%E8%80%85\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#2.%E6%9F%A5%E7%9C%8B%E7%BD%91%E7%AB%99%E6%89%80%E6%9C%89%E8%80%85\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 2.查看网站所有者\")]),_vm._v(\" \"),_c('pre',{pre:true,attrs:{\"class\":\"hljs\"}},[_c('code',[_vm._v(\"import whois\\nres = whois.whois(\\\"baidu.com\\\")\\n\")])]),_vm._v(\" \"),_c('h4',{attrs:{\"id\":\"3.%E8%AE%BE%E7%BD%AE%E7%94%A8%E6%88%B7%E4%BB%A3%E7%90%86\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#3.%E8%AE%BE%E7%BD%AE%E7%94%A8%E6%88%B7%E4%BB%A3%E7%90%86\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 3.设置用户代理\")]),_vm._v(\" \"),_c('pre',{pre:true,attrs:{\"class\":\"hljs\"}},[_c('code',[_vm._v(\"from fake_useragent import UserAgent\\nrequest.headers[\\\"User-Agent\\\"] = UserAgent().random\\n\")])]),_vm._v(\" \"),_c('h4',{attrs:{\"id\":\"4.%E8%AE%BE%E7%BD%AEip%E4%BB%A3%E7%90%86\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#4.%E8%AE%BE%E7%BD%AEip%E4%BB%A3%E7%90%86\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 4.设置IP代理\")]),_vm._v(\" \"),_c('ul',[_c('li',[_vm._v(\"具备高可用IP代理池可存数据库或.json文件\")]),_vm._v(\" \"),_c('li',[_vm._v(\"使用代理请求时间会加长，会增加请求失败概率，需增加retry\")])]),_vm._v(\" \"),_c('pre',{pre:true,attrs:{\"class\":\"hljs\"}},[_c('code',[_vm._v(\"def get_random_proxy():\\n    with open(\\\"./proxy.json\\\") as fd:\\n        res = fd.readlines()\\n    proxy = \\\"http://\\\" + random.choice(res).strip()\\n    return proxy\\nproxy = get_random_proxy()\\nrequest.meta[\\\"proxy\\\"] = proxy\\n\")])]),_vm._v(\" \"),_c('h2',{attrs:{\"id\":\"2.%E6%95%B0%E6%8D%AE%E6%8A%93%E5%8F%96\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#2.%E6%95%B0%E6%8D%AE%E6%8A%93%E5%8F%96\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 2.数据抓取\")]),_vm._v(\" \"),_c('h4',{attrs:{\"id\":\"1.html%E8%A7%A3%E6%9E%90%E6%96%B9%E5%BC%8F\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#1.html%E8%A7%A3%E6%9E%90%E6%96%B9%E5%BC%8F\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 1.HTML解析方式\")]),_vm._v(\" \"),_c('ul',[_c('li',[_vm._v(\"正则表达式\")]),_vm._v(\" \"),_c('li',[_vm._v(\"bs4 使用Python编写速度一般\")]),_vm._v(\" \"),_c('li',[_vm._v(\"lxml 使用C语言编写，速度较快\")])]),_vm._v(\" \"),_c('table',[_c('thead',[_c('tr',[_c('th',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"解析方法\")]),_vm._v(\" \"),_c('th',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"性能\")]),_vm._v(\" \"),_c('th',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"使用难度\")]),_vm._v(\" \"),_c('th',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"安装难度\")])])]),_vm._v(\" \"),_c('tbody',[_c('tr',[_c('td',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"re\")]),_vm._v(\" \"),_c('td',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"块\")]),_vm._v(\" \"),_c('td',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"困难\")]),_vm._v(\" \"),_c('td',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"简单(标准库)\")])]),_vm._v(\" \"),_c('tr',[_c('td',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"bs4\")]),_vm._v(\" \"),_c('td',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"慢\")]),_vm._v(\" \"),_c('td',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"简单\")]),_vm._v(\" \"),_c('td',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"简单( python编写)\")])]),_vm._v(\" \"),_c('tr',[_c('td',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"lxml\")]),_vm._v(\" \"),_c('td',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"块\")]),_vm._v(\" \"),_c('td',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"简单\")]),_vm._v(\" \"),_c('td',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"相对困难\")])])])]),_vm._v(\" \"),_c('h4',{attrs:{\"id\":\"%E4%BD%BF%E7%94%A8selenium%E5%8A%A0%E8%BD%BDjs%E5%8A%A8%E6%80%81%E5%8A%A0%E8%BD%BD%E5%86%85%E5%AE%B9\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#%E4%BD%BF%E7%94%A8selenium%E5%8A%A0%E8%BD%BDjs%E5%8A%A8%E6%80%81%E5%8A%A0%E8%BD%BD%E5%86%85%E5%AE%B9\",\"aria-hidden\":\"true\"}},[_vm._v(\"#\")]),_vm._v(\" 使用selenium加载js动态加载内容\")]),_vm._v(\" \"),_c('ul',[_c('li',[_vm._v(\"入参为需解析的URL链接，返回动态加载后的页面\")])]),_vm._v(\" \"),_c('pre',{pre:true,attrs:{\"class\":\"hljs\"}},[_c('code',[_vm._v(\"from selenium import webdriver\\n\\ndef get_html(url):\\n    # 设置不跳出浏览器界面\\n    chrome_options = webdriver.ChromeOptions()\\n    chrome_options.add_argument('--headless')\\n    chrome_options.add_argument('--disable-gpu')\\n    \\n    # Chrome Driver path\\n    path =  \\\"./lib/chromedriver\\\"\\n    driver = webdriver.Chrome(\\n        options=chrome_options,\\n        executable_path=path\\n    )\\n    driver.get(url)\\n    html = driver.page_source\\n    return html\\n\")])]),_vm._v(\" \"),_c('ul',[_c('li',[_vm._v(\"入参为html字符串，通过正则匹配所需url\")])]),_vm._v(\" \"),_c('pre',{pre:true,attrs:{\"class\":\"hljs\"}},[_c('code',[_vm._v(\"def get_url(html):\\n    re_audio = \\\"(<audio[^>]*>.*?</audio>)\\\"\\n    audio = re.findall(re_audio, html)[0]\\n    re_url = \\\"(https?://[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|])\\\"\\n    url = re.findall(re_url, audio)[0]\\n    return url\\n\")])]),_vm._v(\" \"),_c('ul',[_c('li',[_vm._v(\"使用xpath解析数据\")])]),_vm._v(\" \"),_c('pre',{pre:true,attrs:{\"class\":\"hljs\"}},[_c('code',[_vm._v(\"from lxml import etree\\n\\ndef parse_html(html):\\n    \\\"\\\"\\\"入参为HTML字符串，返回评论的用户名称和用户头像\\\"\\\"\\\"\\n    node = etree.HTML(html, etree.HTMLParser())\\n    res = node.xpath('//li[@class=\\\"c-item\\\"]')\\n    for li in res:\\n        avatar = li.xpath('.//img/@src')[0]\\n        uname = li.xpath('.//div[@class=\\\"c-user-info\\\"]/a/text()')[0]\\n        print(\\\"%s,%s\\\" % (uname, avatar))\\n\\n    next_urls = node.xpath('//a[@class=\\\"link\\\"]/@href')\\n    return next_urls\\n\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0a7bf24e\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./build/markdown!./src/posts/Python爬虫.md\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nvar __vue_script__ = null\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0a7bf24e\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!../../build/markdown/index.js!./Python爬虫.md\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/posts/Python爬虫.md\n// module id = null\n// module chunks = "],"sourceRoot":""}