webpackJsonp([17],{ipN5:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[a("hr"),t._v(" "),a("h2",{attrs:{id:"name%3A-mysql-client-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9Clayout%3A-posttitle%3A-%22mysql-client-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%22info%3A-%22mysql-client-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%22date%3A-2019-05-05categories%3A-worktags%3A-%5Bmysql%5Dcoverimg%3A-%22https%3A%2F%2Fws1.sinaimg.cn%2Flarge%2F88b26e1cgy1fx7cwh57tlj22kw3vc1ky.jpg%22"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#name%3A-mysql-client-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9Clayout%3A-posttitle%3A-%22mysql-client-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%22info%3A-%22mysql-client-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%22date%3A-2019-05-05categories%3A-worktags%3A-%5Bmysql%5Dcoverimg%3A-%22https%3A%2F%2Fws1.sinaimg.cn%2Flarge%2F88b26e1cgy1fx7cwh57tlj22kw3vc1ky.jpg%22","aria-hidden":"true"}},[t._v("#")]),t._v(' name: MySQL Client 常用操作\nlayout: post\ntitle:  "MySQL Client 常用操作"\ninfo: "MySQL Client 常用操作"\ndate:   2019-05-05\ncategories: WORK\ntags: [MySQL]\ncoverimg: "https://ws1.sinaimg.cn/large/88b26e1cgy1fx7cwh57tlj22kw3vc1ky.jpg"')]),t._v(" "),a("h4",{attrs:{id:"1.-mysql-client%E7%99%BB%E5%BD%95"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#1.-mysql-client%E7%99%BB%E5%BD%95","aria-hidden":"true"}},[t._v("#")]),t._v(" 1. MySQL Client登录")]),t._v(" "),a("pre",{staticClass:"hljs"},[a("code",[t._v("mysql -h 127.0.0.01 -P 3306 -u root -p -Ddb_name --default-character-set=utf8\n")])]),t._v(" "),a("h4",{attrs:{id:"2.-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#2.-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C","aria-hidden":"true"}},[t._v("#")]),t._v(" 2. 数据库操作")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("命令")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("create database db_name;")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("创建数据库")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("drop database db_name;")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("删除数据库")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("show databases;")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("显示所有数据库")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("use db_name")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("连接数据库db_name")])])])]),t._v(" "),a("h4",{attrs:{id:"3.-%E8%A1%A8%E6%93%8D%E4%BD%9C"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#3.-%E8%A1%A8%E6%93%8D%E4%BD%9C","aria-hidden":"true"}},[t._v("#")]),t._v(" 3. 表操作")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("命令")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("create table tb_name(<字段名><类型>,...);")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("创建表")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("desc tb_name;")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("显示表结构")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("show create table tb_name;")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("显示建表语句，索引，存储引擎，最大自增")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("drop table tb_name;")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("彻底删除表")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("truncate table tb_name;")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("删除表数据，保留表结构，自增归零")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("delete from tb_name;")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("删除表数据，保留表结构，自增不归零，慢")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("update cms_categories set s_type='ios' where id=18;")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("数据更新")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("update et_album_categories e, cms_categories c set e.name=c.name,e.intro=c.introduction,e.order_id=c.order_id,e.pid=c.pid where e.id=c.id;")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("不同表对应更新")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("insert into tb_name (...) values (...),...(...);")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("数据插入")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("insert into et_album_categories (id, name, intro, order_id, pid, status,create_at,update_at) select id,name,introduction,order_id,pid,status,now(),now() from mifm.cms_categories where c_type='album';")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("数据导入")])])])]),t._v(" "),a("h4",{attrs:{id:"4.-%E8%A1%A8%E6%9F%A5%E8%AF%A2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#4.-%E8%A1%A8%E6%9F%A5%E8%AF%A2","aria-hidden":"true"}},[t._v("#")]),t._v(" 4. 表查询")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("命令")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("select title, count(title) num from cms_audios where album_id_id = 76 group by title having num>1;")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("分组查询")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("select distinct cp_name from cms_albums;")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("去重查询")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("select count(distinct id) from mcs_albums;")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("统计查询")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("select title from cms_albums where id in (select id from cms_albums where id>100);")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("子查询")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("select id from cms_audios where title in (select a.title from (select title, count(title) num from cms_audios where album_id_id = 76 group by title having num>1)a);")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("查询同一个专辑中名称重复的音频")])])])]),t._v(" "),a("h4",{attrs:{id:"5.-%E7%B4%A2%E5%BC%95"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#5.-%E7%B4%A2%E5%BC%95","aria-hidden":"true"}},[t._v("#")]),t._v(" 5. 索引")]),t._v(" "),a("h5",{attrs:{id:"1.-%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#1.-%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95","aria-hidden":"true"}},[t._v("#")]),t._v(" 1. 创建索引")]),t._v(" "),a("pre",[a("code",[t._v("创建普通索引,唯一索引，主键，index_name可缺省，column_list可以为多个逗号分隔\n")])]),t._v(" "),a("pre",{staticClass:"hljs"},[a("code",[a("span",{staticClass:"hljs-keyword"},[t._v("ALTER")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("TABLE")]),t._v(" table_name "),a("span",{staticClass:"hljs-keyword"},[t._v("ADD")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("INDEX")]),t._v(" index_name (column_list);\n"),a("span",{staticClass:"hljs-keyword"},[t._v("ALTER")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("TABLE")]),t._v(" table_name "),a("span",{staticClass:"hljs-keyword"},[t._v("ADD")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("UNIQUE")]),t._v(" (column_list);\n"),a("span",{staticClass:"hljs-keyword"},[t._v("ALTER")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("TABLE")]),t._v(" table_name "),a("span",{staticClass:"hljs-keyword"},[t._v("ADD")]),t._v(" PRIMARY "),a("span",{staticClass:"hljs-keyword"},[t._v("KEY")]),t._v(" (column_list);\n")])]),t._v(" "),a("h5",{attrs:{id:"2.-%E5%88%A0%E9%99%A4%E6%8C%87%E5%AE%9A%E7%B4%A2%E5%BC%95"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#2.-%E5%88%A0%E9%99%A4%E6%8C%87%E5%AE%9A%E7%B4%A2%E5%BC%95","aria-hidden":"true"}},[t._v("#")]),t._v(" 2. 删除指定索引")]),t._v(" "),a("pre",{staticClass:"hljs"},[a("code",[a("span",{staticClass:"hljs-keyword"},[t._v("ALTER")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("TABLE")]),t._v(" table_name "),a("span",{staticClass:"hljs-keyword"},[t._v("DROP")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("INDEX")]),t._v(" index_name;\n")])]),t._v(" "),a("h5",{attrs:{id:"3.-%E5%88%A0%E9%99%A4%E4%B8%BB%E9%94%AE"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#3.-%E5%88%A0%E9%99%A4%E4%B8%BB%E9%94%AE","aria-hidden":"true"}},[t._v("#")]),t._v(" 3. 删除主键")]),t._v(" "),a("pre",[a("code",[t._v("主键唯一不需要指定，如无主键则删除第一个唯一索引，所列组合索引如删除某列则整个索引被删除\n")])]),t._v(" "),a("pre",{staticClass:"hljs"},[a("code",[a("span",{staticClass:"hljs-keyword"},[t._v("ALTER")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("TABLE")]),t._v(" table_name "),a("span",{staticClass:"hljs-keyword"},[t._v("DROP")]),t._v(" PRIMARY "),a("span",{staticClass:"hljs-keyword"},[t._v("KEY")]),t._v(";\n")])]),t._v(" "),a("h5",{attrs:{id:"4.-%E6%9F%A5%E7%9C%8B%E7%B4%A2%E5%BC%95"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#4.-%E6%9F%A5%E7%9C%8B%E7%B4%A2%E5%BC%95","aria-hidden":"true"}},[t._v("#")]),t._v(" 4. 查看索引")]),t._v(" "),a("pre",{staticClass:"hljs"},[a("code",[a("span",{staticClass:"hljs-keyword"},[t._v("show")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("index")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("from")]),t._v(" tblname;\n")])]),t._v(" "),a("h4",{attrs:{id:"6.-%E8%A1%A8%E5%AD%97%E6%AE%B5%E5%A2%9E%E5%88%A0%E6%94%B9"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#6.-%E8%A1%A8%E5%AD%97%E6%AE%B5%E5%A2%9E%E5%88%A0%E6%94%B9","aria-hidden":"true"}},[t._v("#")]),t._v(" 6. 表字段增删改")]),t._v(" "),a("h5",{attrs:{id:"1.-%E6%B7%BB%E5%8A%A0%E5%AD%97%E6%AE%B5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#1.-%E6%B7%BB%E5%8A%A0%E5%AD%97%E6%AE%B5","aria-hidden":"true"}},[t._v("#")]),t._v(" 1. 添加字段")]),t._v(" "),a("pre",{staticClass:"hljs"},[a("code",[a("span",{staticClass:"hljs-keyword"},[t._v("ALTER")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("TABLE")]),t._v(" et_album_chapters "),a("span",{staticClass:"hljs-keyword"},[t._v("ADD")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("column")]),t._v(" play_type "),a("span",{staticClass:"hljs-built_in"},[t._v("varchar")]),t._v("("),a("span",{staticClass:"hljs-number"},[t._v("50")]),t._v(") "),a("span",{staticClass:"hljs-keyword"},[t._v("default")]),t._v(" "),a("span",{staticClass:"hljs-string"},[t._v("''")]),t._v(";\n"),a("span",{staticClass:"hljs-keyword"},[t._v("alter")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("table")]),t._v(" cms_categories "),a("span",{staticClass:"hljs-keyword"},[t._v("add")]),t._v(" s_type enum("),a("span",{staticClass:"hljs-string"},[t._v("'all'")]),t._v(", "),a("span",{staticClass:"hljs-string"},[t._v("'android'")]),t._v(", "),a("span",{staticClass:"hljs-string"},[t._v("'ios'")]),t._v(") "),a("span",{staticClass:"hljs-keyword"},[t._v("default")]),t._v(" "),a("span",{staticClass:"hljs-string"},[t._v("'android'")]),t._v("; \n"),a("span",{staticClass:"hljs-keyword"},[t._v("alter")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("table")]),t._v(" et_album_albums "),a("span",{staticClass:"hljs-keyword"},[t._v("add")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("column")]),t._v(" cp_avatar "),a("span",{staticClass:"hljs-built_in"},[t._v("varchar")]),t._v("("),a("span",{staticClass:"hljs-number"},[t._v("500")]),t._v(") "),a("span",{staticClass:"hljs-keyword"},[t._v("default")]),t._v(" "),a("span",{staticClass:"hljs-string"},[t._v("''")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("after")]),t._v(" cp_star; \n")])]),t._v(" "),a("h5",{attrs:{id:"2.-%E5%88%A0%E9%99%A4%E5%AD%97%E6%AE%B5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#2.-%E5%88%A0%E9%99%A4%E5%AD%97%E6%AE%B5","aria-hidden":"true"}},[t._v("#")]),t._v(" 2. 删除字段")]),t._v(" "),a("pre",{staticClass:"hljs"},[a("code",[a("span",{staticClass:"hljs-keyword"},[t._v("ALTER")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("TABLE")]),t._v(" et_album_albums "),a("span",{staticClass:"hljs-keyword"},[t._v("DROP")]),t._v(" order_id;\n")])]),t._v(" "),a("h5",{attrs:{id:"3.-%E4%BF%AE%E6%94%B9%E5%AD%97%E6%AE%B5%E7%B1%BB%E5%9E%8B"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#3.-%E4%BF%AE%E6%94%B9%E5%AD%97%E6%AE%B5%E7%B1%BB%E5%9E%8B","aria-hidden":"true"}},[t._v("#")]),t._v(" 3. 修改字段类型")]),t._v(" "),a("pre",{staticClass:"hljs"},[a("code",[a("span",{staticClass:"hljs-keyword"},[t._v("ALTER")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("TABLE")]),t._v(" et_album_chapters "),a("span",{staticClass:"hljs-keyword"},[t._v("MODIFY")]),t._v(" play_type "),a("span",{staticClass:"hljs-built_in"},[t._v("varchar")]),t._v("("),a("span",{staticClass:"hljs-number"},[t._v("100")]),t._v(");\n")])]),t._v(" "),a("h5",{attrs:{id:"4.-%E4%BF%AE%E6%94%B9%E9%BB%98%E8%AE%A4%E5%80%BC"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#4.-%E4%BF%AE%E6%94%B9%E9%BB%98%E8%AE%A4%E5%80%BC","aria-hidden":"true"}},[t._v("#")]),t._v(" 4. 修改默认值")]),t._v(" "),a("pre",{staticClass:"hljs"},[a("code",[a("span",{staticClass:"hljs-keyword"},[t._v("ALTER")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("TABLE")]),t._v(" et_album_chapters "),a("span",{staticClass:"hljs-keyword"},[t._v("ALTER")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("column")]),t._v(" play_type "),a("span",{staticClass:"hljs-keyword"},[t._v("set")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("default")]),t._v(" "),a("span",{staticClass:"hljs-string"},[t._v("'DB'")]),t._v(";\n")])]),t._v(" "),a("h5",{attrs:{id:"5.-%E5%88%A0%E9%99%A4%E5%AD%97%E6%AE%B5%E9%BB%98%E8%AE%A4%E5%80%BC"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#5.-%E5%88%A0%E9%99%A4%E5%AD%97%E6%AE%B5%E9%BB%98%E8%AE%A4%E5%80%BC","aria-hidden":"true"}},[t._v("#")]),t._v(" 5. 删除字段默认值")]),t._v(" "),a("pre",{staticClass:"hljs"},[a("code",[a("span",{staticClass:"hljs-keyword"},[t._v("ALTER")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("TABLE")]),t._v(" et_album_chapters "),a("span",{staticClass:"hljs-keyword"},[t._v("ALTER")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("column")]),t._v(" play_type "),a("span",{staticClass:"hljs-keyword"},[t._v("drop")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("default")]),t._v(";\n")])]),t._v(" "),a("h5",{attrs:{id:"6.-%E6%9B%B4%E6%94%B9%E8%A1%A8%E5%90%8D"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#6.-%E6%9B%B4%E6%94%B9%E8%A1%A8%E5%90%8D","aria-hidden":"true"}},[t._v("#")]),t._v(" 6. 更改表名")]),t._v(" "),a("pre",{staticClass:"hljs"},[a("code",[a("span",{staticClass:"hljs-keyword"},[t._v("ALTER")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("TABLE")]),t._v(" et_album_albums "),a("span",{staticClass:"hljs-keyword"},[t._v("RENAME")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("to")]),t._v(" erting_albums;\n")])]),t._v(" "),a("h4",{attrs:{id:"7.-%E6%95%B0%E6%8D%AE%E5%AF%BC%E5%87%BA%E6%81%A2%E5%A4%8D"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#7.-%E6%95%B0%E6%8D%AE%E5%AF%BC%E5%87%BA%E6%81%A2%E5%A4%8D","aria-hidden":"true"}},[t._v("#")]),t._v(" 7. 数据导出恢复")]),t._v(" "),a("h5",{attrs:{id:"%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%89%A7%E8%A1%8Csql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%89%A7%E8%A1%8Csql","aria-hidden":"true"}},[t._v("#")]),t._v(" 命令行执行SQL")]),t._v(" "),a("pre",{staticClass:"hljs"},[a("code",[t._v('mysql -h127.0.0.1 -P3306 -uroot -p -Dmifm_backend --default-character-set=utf8 -e "select * from cms_albums limit 1" > /tmp/album.txt\n')])]),t._v(" "),a("h5",{attrs:{id:"%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%87%E4%BB%BD"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%87%E4%BB%BD","aria-hidden":"true"}},[t._v("#")]),t._v(" 数据库备份")]),t._v(" "),a("pre",[a("code",[t._v("不指定--tables则备份整个库\n不指定--where则备份整合表，--where语句必须在指定表时可用\n")])]),t._v(" "),a("pre",{staticClass:"hljs"},[a("code",[t._v("mysqldump --skip-lock-tables --default-character-set=utf8 -h 127.0.0.1 -P 3306 -u root -p --databases db1 --tables a1 --where='id=1'  > /tmp/db1.sql\n")])]),t._v(" "),a("h5",{attrs:{id:"%E6%95%B0%E6%8D%AE%E6%81%A2%E5%A4%8D"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#%E6%95%B0%E6%8D%AE%E6%81%A2%E5%A4%8D","aria-hidden":"true"}},[t._v("#")]),t._v(" 数据恢复")]),t._v(" "),a("pre",{staticClass:"hljs"},[a("code",[t._v("mysql> source /tmp/db1.sql\n")])]),t._v(" "),a("h4",{attrs:{id:"8.-%E5%B8%B8%E7%94%A8%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#8.-%E5%B8%B8%E7%94%A8%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0","aria-hidden":"true"}},[t._v("#")]),t._v(" 8. 常用字符串函数")]),t._v(" "),a("h5",{attrs:{id:"replace(srt%2Cfrom_str%2Cto_str)"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#replace(srt%2Cfrom_str%2Cto_str)","aria-hidden":"true"}},[t._v("#")]),t._v(" REPLACE(srt,from_str,to_str)")]),t._v(" "),a("pre",[a("code",[t._v("返回字符串str，其字符串from_str的所有出现由字符串to_str代替\n")])]),t._v(" "),a("pre",{staticClass:"hljs"},[a("code",[t._v("mysql> "),a("span",{staticClass:"hljs-keyword"},[t._v("select")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("replace")]),t._v("("),a("span",{staticClass:"hljs-string"},[t._v("'Eason'")]),t._v(", "),a("span",{staticClass:"hljs-string"},[t._v("'a'")]),t._v(", "),a("span",{staticClass:"hljs-string"},[t._v("'di'")]),t._v(");\n+"),a("span",{staticClass:"hljs-comment"},[t._v("-----------------------------+")]),t._v("\n| "),a("span",{staticClass:"hljs-keyword"},[t._v("replace")]),t._v("("),a("span",{staticClass:"hljs-string"},[t._v("'Eason'")]),t._v(", "),a("span",{staticClass:"hljs-string"},[t._v("'a'")]),t._v(", "),a("span",{staticClass:"hljs-string"},[t._v("'di'")]),t._v(") |\n+"),a("span",{staticClass:"hljs-comment"},[t._v("-----------------------------+")]),t._v("\n| Edison                      |\n+"),a("span",{staticClass:"hljs-comment"},[t._v("-----------------------------+")]),t._v("\n")])]),t._v(" "),a("h5",{attrs:{id:"repeat(str%2Ccount)"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#repeat(str%2Ccount)","aria-hidden":"true"}},[t._v("#")]),t._v(" REPEAT(str,count)")]),t._v(" "),a("pre",[a("code",[t._v("返回由重复countTimes次的字符串str组成的一个字符串。如果count <= 0，返回一个空字符串。如果str或count是NULL，返回NULL\n")])]),t._v(" "),a("pre",{staticClass:"hljs"},[a("code",[t._v("mysql> "),a("span",{staticClass:"hljs-keyword"},[t._v("select")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("repeat")]),t._v("("),a("span",{staticClass:"hljs-string"},[t._v("'fan'")]),t._v(","),a("span",{staticClass:"hljs-number"},[t._v("3")]),t._v(");\n+"),a("span",{staticClass:"hljs-comment"},[t._v("-----------------+")]),t._v("\n| repeat('fan',3) |\n+"),a("span",{staticClass:"hljs-comment"},[t._v("-----------------+")]),t._v("\n| fanfanfan       |\n+"),a("span",{staticClass:"hljs-comment"},[t._v("-----------------+")]),t._v("\n")])]),t._v(" "),a("h5",{attrs:{id:"reverse(str)"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reverse(str)","aria-hidden":"true"}},[t._v("#")]),t._v(" REVERSE(str)")]),t._v(" "),a("pre",[a("code",[t._v("返回颠倒字符顺序的字符串str\n")])]),t._v(" "),a("pre",{staticClass:"hljs"},[a("code",[t._v("mysql> "),a("span",{staticClass:"hljs-keyword"},[t._v("select")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("reverse")]),t._v("("),a("span",{staticClass:"hljs-string"},[t._v("'fanjr'")]),t._v(");\n+"),a("span",{staticClass:"hljs-comment"},[t._v("------------------+")]),t._v("\n| reverse('fanjr') |\n+"),a("span",{staticClass:"hljs-comment"},[t._v("------------------+")]),t._v("\n| rjnaf            |\n+"),a("span",{staticClass:"hljs-comment"},[t._v("------------------+")]),t._v("\n")])]),t._v(" "),a("h5",{attrs:{id:"insert(str%2Cpos%2Clen%2Cnewstr)"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#insert(str%2Cpos%2Clen%2Cnewstr)","aria-hidden":"true"}},[t._v("#")]),t._v(" INSERT(str,pos,len,newstr)")]),t._v(" "),a("pre",[a("code",[t._v("返回字符串str，在位置pos起始的子串且len个字符长得子串由字符串newstr代替,索引从1开始\n")])]),t._v(" "),a("pre",{staticClass:"hljs"},[a("code",[t._v("mysql> "),a("span",{staticClass:"hljs-keyword"},[t._v("select")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("insert")]),t._v("("),a("span",{staticClass:"hljs-string"},[t._v("'fanjunrui'")]),t._v(", "),a("span",{staticClass:"hljs-number"},[t._v("4")]),t._v(","),a("span",{staticClass:"hljs-number"},[t._v("7")]),t._v(","),a("span",{staticClass:"hljs-string"},[t._v("'jr'")]),t._v(");\n+"),a("span",{staticClass:"hljs-comment"},[t._v("-------------------------------+")]),t._v("\n| "),a("span",{staticClass:"hljs-keyword"},[t._v("insert")]),t._v("("),a("span",{staticClass:"hljs-string"},[t._v("'fanjunrui'")]),t._v(", "),a("span",{staticClass:"hljs-number"},[t._v("4")]),t._v(","),a("span",{staticClass:"hljs-number"},[t._v("7")]),t._v(","),a("span",{staticClass:"hljs-string"},[t._v("'jr'")]),t._v(") |\n+"),a("span",{staticClass:"hljs-comment"},[t._v("-------------------------------+")]),t._v("\n| fanjr                         |\n+"),a("span",{staticClass:"hljs-comment"},[t._v("-------------------------------+")]),t._v("\n")])]),t._v(" "),a("h5",{attrs:{id:"trim(%5B%5Bboth-%7C-leading-%7C-trailing%5D-%5Bremstr%5D-from%5D-str)"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#trim(%5B%5Bboth-%7C-leading-%7C-trailing%5D-%5Bremstr%5D-from%5D-str)","aria-hidden":"true"}},[t._v("#")]),t._v(" TRIM([[BOTH | LEADING | TRAILING] [remstr] FROM] str)")]),t._v(" "),a("pre",[a("code",[t._v("返回字符串str，其所有remstr前缀或后缀被删除了。如果没有修饰符BOTH、LEADING或TRAILING给出，BOTH被假定。如果remstr没被指定，空格被删除\n")])]),t._v(" "),a("pre",{staticClass:"hljs"},[a("code",[t._v("mysql> "),a("span",{staticClass:"hljs-keyword"},[t._v("select")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("trim")]),t._v("("),a("span",{staticClass:"hljs-keyword"},[t._v("leading")]),t._v(" "),a("span",{staticClass:"hljs-string"},[t._v("'*'")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("from")]),t._v(" "),a("span",{staticClass:"hljs-string"},[t._v("'***jay**'")]),t._v(");\n+"),a("span",{staticClass:"hljs-comment"},[t._v("-----------------------------------+")]),t._v("\n| trim(leading '*' from '***jay**') |\n+"),a("span",{staticClass:"hljs-comment"},[t._v("-----------------------------------+")]),t._v("\n| jay**                             |\n+"),a("span",{staticClass:"hljs-comment"},[t._v("-----------------------------------+")]),t._v("\n\nmysql> "),a("span",{staticClass:"hljs-keyword"},[t._v("select")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("trim")]),t._v("("),a("span",{staticClass:"hljs-string"},[t._v("'*'")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("from")]),t._v(" "),a("span",{staticClass:"hljs-string"},[t._v("'**jay**'")]),t._v(");\n+"),a("span",{staticClass:"hljs-comment"},[t._v("--------------------------+")]),t._v("\n| trim('*' from '**jay**') |\n+"),a("span",{staticClass:"hljs-comment"},[t._v("--------------------------+")]),t._v("\n| jay                      |\n+"),a("span",{staticClass:"hljs-comment"},[t._v("--------------------------+")]),t._v("\n\nmysql> "),a("span",{staticClass:"hljs-keyword"},[t._v("select")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("trim")]),t._v("(trailing "),a("span",{staticClass:"hljs-string"},[t._v("'*'")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("from")]),t._v(" "),a("span",{staticClass:"hljs-string"},[t._v("'**jay**'")]),t._v(");\n+"),a("span",{staticClass:"hljs-comment"},[t._v("-----------------------------------+")]),t._v("\n| trim(trailing '*' from '**jay**') |\n+"),a("span",{staticClass:"hljs-comment"},[t._v("-----------------------------------+")]),t._v("\n| **jay                             |\n+"),a("span",{staticClass:"hljs-comment"},[t._v("-----------------------------------+")]),t._v("\n")])]),t._v(" "),a("h5",{attrs:{id:"length(str)"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#length(str)","aria-hidden":"true"}},[t._v("#")]),t._v(" LENGTH(str)")]),t._v(" "),a("pre",[a("code",[t._v("返回字符串长度\n")])]),t._v(" "),a("pre",{staticClass:"hljs"},[a("code",[t._v("mysql> "),a("span",{staticClass:"hljs-keyword"},[t._v("select")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("length")]),t._v("("),a("span",{staticClass:"hljs-string"},[t._v("'mifm'")]),t._v(");\n+"),a("span",{staticClass:"hljs-comment"},[t._v("----------------+")]),t._v("\n| length('mifm') |\n+"),a("span",{staticClass:"hljs-comment"},[t._v("----------------+")]),t._v("\n|              4 |\n+"),a("span",{staticClass:"hljs-comment"},[t._v("----------------+")]),t._v("\n")])]),t._v(" "),a("h5",{attrs:{id:"concat(str1%2Cstr2%2C...)"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#concat(str1%2Cstr2%2C...)","aria-hidden":"true"}},[t._v("#")]),t._v(" CONCAT(str1,str2,...)")]),t._v(" "),a("pre",[a("code",[t._v("合并字符串\n")])]),t._v(" "),a("pre",{staticClass:"hljs"},[a("code",[t._v("mysql> "),a("span",{staticClass:"hljs-keyword"},[t._v("select")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("concat")]),t._v("("),a("span",{staticClass:"hljs-string"},[t._v("'QT'")]),t._v(","),a("span",{staticClass:"hljs-string"},[t._v("'_'")]),t._v(","),a("span",{staticClass:"hljs-string"},[t._v("'65535'")]),t._v(");\n+"),a("span",{staticClass:"hljs-comment"},[t._v("--------------------------+")]),t._v("\n| concat('QT','_','65535') |\n+"),a("span",{staticClass:"hljs-comment"},[t._v("--------------------------+")]),t._v("\n| QT_65535                 |\n+"),a("span",{staticClass:"hljs-comment"},[t._v("--------------------------+")]),t._v("\n")])]),t._v(" "),a("h4",{attrs:{id:"9.-%E5%B8%B8%E7%94%A8%E6%95%B0%E5%AD%97%E5%87%BD%E6%95%B0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#9.-%E5%B8%B8%E7%94%A8%E6%95%B0%E5%AD%97%E5%87%BD%E6%95%B0","aria-hidden":"true"}},[t._v("#")]),t._v(" 9. 常用数字函数")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("函数名")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("AVG(x)")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("返回平均值")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("SUN(x)")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("返回字段总和")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("MAX(x)")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("返回最大值")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("MIN(x)")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("返回最小值")])])])]),t._v(" "),a("pre",{staticClass:"hljs"},[a("code",[t._v("mysql> "),a("span",{staticClass:"hljs-keyword"},[t._v("select")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("avg")]),t._v("("),a("span",{staticClass:"hljs-keyword"},[t._v("id")]),t._v("),"),a("span",{staticClass:"hljs-keyword"},[t._v("sum")]),t._v("(price_cents),"),a("span",{staticClass:"hljs-keyword"},[t._v("max")]),t._v("(update_at),"),a("span",{staticClass:"hljs-keyword"},[t._v("min")]),t._v("(update_at) "),a("span",{staticClass:"hljs-keyword"},[t._v("from")]),t._v(" et_album_albums;\n+"),a("span",{staticClass:"hljs-comment"},[t._v("------------+------------------+---------------------+---------------------+")]),t._v("\n| avg(id)    | sum(price_cents) | max(update_at)      | min(update_at)      |\n+"),a("span",{staticClass:"hljs-comment"},[t._v("------------+------------------+---------------------+---------------------+")]),t._v("\n| 26032.7583 |         11491773 | 2019-03-05 09:17:42 | 2018-11-26 11:17:38 |\n+"),a("span",{staticClass:"hljs-comment"},[t._v("------------+------------------+---------------------+---------------------+")]),t._v("\n")])]),t._v(" "),a("h4",{attrs:{id:"10.-%E5%B8%B8%E7%94%A8%E6%97%B6%E9%97%B4%E5%87%BD%E6%95%B0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#10.-%E5%B8%B8%E7%94%A8%E6%97%B6%E9%97%B4%E5%87%BD%E6%95%B0","aria-hidden":"true"}},[t._v("#")]),t._v(" 10. 常用时间函数")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("函数名")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("CURDATE()")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("返回当前日期")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("CURTIME()")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("返回当前时间")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("NOW()")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("返回日期和时间")])])])]),t._v(" "),a("pre",{staticClass:"hljs"},[a("code",[t._v("mysql> "),a("span",{staticClass:"hljs-keyword"},[t._v("select")]),t._v(" "),a("span",{staticClass:"hljs-keyword"},[t._v("curdate")]),t._v("(), "),a("span",{staticClass:"hljs-keyword"},[t._v("curtime")]),t._v("(), "),a("span",{staticClass:"hljs-keyword"},[t._v("now")]),t._v("();\n+"),a("span",{staticClass:"hljs-comment"},[t._v("------------+-----------+---------------------+")]),t._v("\n| curdate()  | curtime() | now()               |\n+"),a("span",{staticClass:"hljs-comment"},[t._v("------------+-----------+---------------------+")]),t._v("\n| 2019-03-09 | 14:18:43  | 2019-03-09 14:18:43 |\n+"),a("span",{staticClass:"hljs-comment"},[t._v("------------+-----------+---------------------+")]),t._v("\n")])])])}]},l=a("VU/8")(null,e,!1,null,null,null);s.default=l.exports}});
//# sourceMappingURL=17.a4633cd0c0124ba51944.js.map